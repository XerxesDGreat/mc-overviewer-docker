from observer import MultiplexingObserver, LoggingObserver, JSObserver

outputdir = "/mcmap"

lObserver = LoggingObserver()
jsObserver = JSObserver(outputdir)
observer = MultiplexingObserver(lObserver, jsObserver)


worlds["survival"] = "/world"

def townFilter(poi):
    if poi["id"] == "Town":
        return poi["name"]

def signFilter(poi):
    if poi["id"] == "Sign" or poi["id"] == "minecraft:sign":
        return "\n".join([poi["Text1"], poi["Text2"], poi["Text3"], poi["Text4"]])

renders["Survival"] = {
    "world": "survival",
    "title": "Survival",
    "rendermode": smooth_lighting,
    "dimension": "overworld",
    "manualpois": [
        {
            "id":"Town",
            "x":3206,
            "y":64,
            "z":-2181,
            "name":"Shanin's current place"
        }
    ],
    "markers": [
        dict(name="Towns", filterFunction=townFilter),
        dict(name="Signs", filterFunction=signFilter)
    ]
}

renders["Survival Night"] = {
    "world": "survival",
    "title": "Survival Night",
    "rendermode": smooth_night,
    "dimension": "overworld"
}
